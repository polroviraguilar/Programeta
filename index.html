<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Programeta 📖</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <h1>Programeta <span class="emoji">📖</span></h1>
      <p class="subtitle">La teva llibreta docent digital</p>
    </header>

    <!-- Pestanyes principals -->
    <nav id="mainTabs" class="tabs">
      <button class="tab active" data-tab="horari">Horari</button>
      <button class="tab" data-tab="lliconari">Lliçonari</button>
    </nav>

    <!-- Contingut: HORARI -->
    <section id="tab-horari">
      <nav id="horariTabs" class="tabs sub-tabs">
        <button class="tab active" data-subtab="setmanal">Setmanal</button>
        <button class="tab" data-subtab="anual">Anual</button>
      </nav>

      <!-- Subpestanya setmanal -->
      <div id="subtab-setmanal" class="card">
        <div class="week-nav">
          <button id="prevWeek" class="ghost">← Setmana anterior</button>
          <div>
            <span id="weekLabel" class="badge"></span>
            <span id="weekRange" class="muted"></span>
          </div>
          <button id="nextWeek" class="ghost">Setmana següent →</button>
        </div>
        <table id="weekGrid" class="week-grid"></table>
      </div>

      <!-- Subpestanya anual -->
      <div id="subtab-anual" class="card hidden">
        <div class="year-nav">
          <button id="prevYear" class="ghost">← Any anterior</button>
          <span id="yearLabel" class="badge"></span>
          <button id="nextYear" class="ghost">Any següent →</button>
        </div>
        <div id="yearGrid" class="year-grid"></div>
      </div>
    </section>

    <!-- Contingut: LLICONARI -->
    <section id="tab-lliconari" class="hidden">
      <div class="card">
        <h2>Nou lliçó</h2>
        <div class="form-grid">
          <input id="lcurs" placeholder="Curs (5è...)" />
          <input id="lassignatura" placeholder="Assignatura" />
          <input id="ltitol" placeholder="Títol de la lliçó" />
          <textarea id="ldescripcio" placeholder="Descripció"></textarea>
          <input id="lrecursos" placeholder="Recursos (separats per comes)" />
          <button id="saveLlico" class="primary">Desar lliçó</button>
        </div>
      </div>

      <div class="card">
        <h2>Llistat de lliçons</h2>
        <div class="filters">
          <input id="fCurs" placeholder="Filtra per curs" />
          <input id="fAssignatura" placeholder="Filtra per assignatura" />
          <button id="filtraLlicons" class="ghost">Aplicar</button>
          <button id="netejaFiltres" class="ghost">Netejar</button>
          <button id="imprimirLlicons" class="ghost">🖨️</button>
          <button id="descarregarCSV" class="ghost">⬇️</button>
        </div>
        <div id="llistaLlicons" class="list"></div>
      </div>
    </section>

    <footer class="app-footer">
      Programeta — v0.2 <span class="muted">(Firestore)</span>
    </footer>
  </div>

  <!-- Modal franja horària -->
  <dialog id="franjaDlg" class="modal">
    <h3>Editar franja</h3>
    <div class="form-grid">
      <input id="fdia" disabled />
      <input id="fhora" disabled />
      <input id="fcurs" placeholder="Curs" />
      <input id="fassignatura" placeholder="Assignatura" />
      <input id="factivitat" placeholder="Activitat" />
      <select id="ftipus">
        <option value="ocasional">Ocasional</option>
        <option value="permanent">Permanent</option>
      </select>
    </div>
    <div class="modal-actions">
      <button id="delFranja" class="danger">Eliminar</button>
      <button id="cancelFranja" class="ghost">Cancel·lar</button>
      <button id="saveFranja" class="primary">Desar</button>
    </div>
  </dialog>

  <script type="module" src="js/firebase.js"></script>
  <script type="module" src="js/app.firebase.js"></script>
</body>
</html>
