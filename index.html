<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Programeta</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="icon" type="image/png" href="assets/logo-icon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SzlrxWriC3z8UsM8f+QfFZl7Kj5k+z9l9VV9uv0M2Q6Xo8X5p6Q4lUuXcV0xz1WlZp7rX0zQ5Z+o1r6j3r8a8w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>  
  <!-- CAP√áALERA -->
  <header class="topbar">
  <div class="topbar__inner">
    <img src="assets/logo-tipo-umbra.png"
         alt="Programeta"
         class="brand__img"
         height="28"
         loading="eager"
         decoding="async">

    <!-- Info usuari -->
    <div class="user-info">
      <i class="fa-solid fa-user"></i>
      <span id="userEmail" class="muted"></span>
    </div>

    <!-- Botons sessi√≥ -->
    <button id="openLogin" class="icon-btn" title="Iniciar sessi√≥">
      <i class="fa-solid fa-right-to-bracket"></i>
    </button>
    <button id="btnLogout" class="icon-btn hidden" title="Tancar sessi√≥">
      <i class="fa-solid fa-right-from-bracket"></i>
    </button>
  </div>
</header>

  <div class="layout hidden">
    <!-- MEN√ö LATERAL -->
    <aside class="sidebar">
      <nav class="side-nav">
        <button class="side-link active" data-tab="horari">Horari</button>
        <button class="side-link" data-tab="lliconari">Lli√ßonari</button>
      </nav>
    </aside>

    <!-- CONTINGUT -->
    <main id="main" class="content">
      <!-- Horari -->
      <section id="tab-horari">
        <nav id="horariTabs" class="tabs sub-tabs">
          <button class="tab active" data-subtab="setmanal">Setmanal</button>
          <button class="tab" data-subtab="anual">Anual</button>
        </nav>

        <!-- Setmanal -->
        <section id="subtab-setmanal" class="card">
          <div class="section-head">
            <h3>Planificaci√≥ setmanal</h3>
            <div class="badge" id="weekLabel">‚Äî</div>
          </div>
          <div class="toolbar">
            <button id="prevWeek" class="btn ghost">‚Üê Setmana anterior</button>
            <span id="weekRange" class="muted">‚Äî</span>
            <button id="nextWeek" class="btn ghost">Setmana seg√ºent ‚Üí</button>
          </div>
          <table id="weekGrid" class="week-grid"></table>
        </section>

        <!-- Anual -->
        <section id="subtab-anual" class="card hidden">
          <div class="section-head">
            <h3>Calendari anual</h3>
            <div class="badge" id="yearLabel">‚Äî</div>
          </div>
          <div class="toolbar">
            <button id="prevYear" class="btn ghost">‚Üê Any anterior</button>
            <button id="nextYear" class="btn ghost">Any seg√ºent ‚Üí</button>
          </div>
          <div id="yearGrid" class="year-grid"></div>
        </section>
      </section>

      <!-- Lli√ßonari -->
      <section id="tab-lliconari" class="hidden">
        <section class="card">
          <div class="section-head">
            <h3>Lli√ßonari</h3>
          </div>
          <div class="filters">
            <input id="fCurs" placeholder="Filtra per curs" />
            <input id="fAssignatura" placeholder="Filtra per assignatura" />
            <button id="filtraLlicons" class="btn ghost">Aplicar</button>
            <button id="netejaFiltres" class="btn ghost">Netejar</button>
            <button id="imprimirLlicons" class="btn ghost">üñ®Ô∏è</button>
            <button id="descarregarCSV" class="btn ghost">‚¨áÔ∏è</button>
          </div>
          <div id="llistaLlicons" class="list"></div>
        </section>
      </section>
    </main>
  </div>

  <!-- PEU -->
  <footer class="footer hidden">
    <div class="footer__inner">¬© Programeta</div>
  </footer>

  <script type="module" src="js/firebase.js"></script>
  <script type="module" src="js/app.firebase.js"></script>

  <!-- MODAL: Editor franja -->
  <dialog id="franjaDlg" class="modal" aria-labelledby="dlg-title" aria-modal="true">
    <h3 id="dlg-title">Editar franja</h3>
    <div class="form-grid">
      <input id="fdia" readonly />
      <input id="fhora" readonly />
      <input id="fcurs" placeholder="Curs (p. ex. 5√®)" />
      <input id="fassignatura" placeholder="Assignatura (p. ex. M√∫sica)" />
      <textarea id="factivitat" rows="3" placeholder="Activitat"></textarea>
      <select id="ftipus">
        <option value="ocasional">Ocasional (nom√©s aquesta setmana)</option>
        <option value="permanent">Permanent (cada setmana)</option>
      </select>
    </div>
    <div class="modal__actions">
      <button id="delFranja" class="btn danger">Eliminar</button>
      <div class="modal__spacer"></div>
      <button id="cancelFranja" class="btn ghost">Cancel¬∑lar</button>
      <button id="saveFranja" class="btn primary">Desar</button>
    </div>
  </dialog>

  <!-- MODAL LOGIN -->
<dialog id="loginDlg" class="modal">
  <h3>Acc√©s a Programeta</h3>
  <div class="form-grid">
    <input id="loginEmail" type="email" placeholder="Correu electr√≤nic" />
    <input id="loginPass" type="password" placeholder="Contrasenya" />
  </div>
  <div class="modal__actions">
    <button id="btnRegister" class="btn primary">Registrar</button>
    <button id="btnLogin" class="btn ghost">Iniciar sessi√≥</button>
    <div class="modal__spacer"></div>
    <button id="btnCloseLogin" class="btn">Tancar</button>
  </div>
</dialog>
  
</body>
</html>
